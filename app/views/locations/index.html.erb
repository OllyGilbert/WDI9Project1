<h1>Listing locations</h1>
  <div class="search">
    <%= search_form_for @q do |f| %> 
        <%= f.condition_fields do |c|%>
          <div class="field">
          <%= c.attribute_fields do |a| %> 
              <%= a.attribute_select %>
          <% end %>
          <%= c.predicate_select %> 
            <%= c.value_fields do |v| %>
              <%= v.text_field :value %>
            <% end %>
          </div>
          <% end %>
        <%= f.submit %>
      <% end %>
    </div>
<table>
  <tr>
    <th>Name</th>
    <th>Address</th>
    <th>City</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @locations.each do |location| %>
  <tr>
    <td><%= location.name %></td>
    <td><%= location.address %></td>
    <td><%= location.city %></td>

    <td>
      <% if can? :show, location %>
        <%= link_to 'Show', location %>
      <% end %>
    </td>
    <td>
      <% if can? :update, location %>
        <%= link_to 'Edit', edit_location_path(location) %>
      <% end %>
    </td>
    <td>
      <% if can? :destroy, location %>
        <%= link_to 'Destroy', location, method: :delete, data: { confirm: 'Are you sure?' } %>
      <% end %>
    </td>
  </tr>
<% end %>
</table>

<br />
<%= paginate @locations %>

<%= link_to 'New Location', new_location_path %>
